# GraalVM Demos

[![GraalVM Demos](https://img.shields.io/badge/GraalVM%20Demos-passing-success)](https://github.com/graalvm/graalvm-demos/actions)

This repository contains demo applications and benchmarks written in Java, JavaScript, Python, R, Ruby, and other JVM languages like Kotlin and Scala.
These applications are illustrating the diverse capabilities of [GraalVM](http://graalvm.org). 

The demos are sorted by types (by a framework, by a programming language, by a technology). 
Every top level folder contains demo sources and the instructions on how to run a particular demo are in its README.md.
To run a demo, clone or download this repository, enter the demo folder, and follow steps in the README.md.

```
git clone https://github.com/graalvm/graalvm-demos.git
cd graalvm-demos
```

## Compatibility
The demos are normal applications and benchmarks written in Java, JavaScript, Python, etc., so they are compatible with any virtual machine capable of running Java, JavaScript and so on. 
These demos are [tested against the latest GraalVM release using GitHub Actions](https://github.com/graalvm/graalvm-demos/actions/workflows/main.yml).

### Java: Native Image and JIT

| Name                      | Description                                          | Technologies                      | Reference | 
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [Native jshell and Espresso](./espresso-jshell/) | This demo showcases the integration between GraalVM Native Image and Java on Truffle (Espresso). It builds a native image of jshell, that executes the dynamically generated bytecodes on Espresso. | Java on Truffle, Native Image, JShell | [Mixing AOT and JIT for Java](hhttps://www.graalvm.org/dev/reference-manual/java-on-truffle/demos/#mixing-aot-and-jit-for-java) [Java on Truffle â€” Going Fully Metacircular](https://medium.com/graalvm/java-on-truffle-going-fully-metacircular-215531e3f840) |
| [Java Fortune Demo](./fortune-demo/) | A Java application that simulates the traditional fortune teller Unix program. This demo shows how to run it in JIT mode, build a native executable, and finally build a mostly-static native executable, using Gradle or Maven build tools. | Native Image, Maven, Gradle | [Use GraalVM Dashboard to Optimize the Size of a Native Executable](https://www.graalvm.org/dev/reference-manual/native-image/guides/use-graalvm-dashboard/) |
| [Hello Graal](./hello-graal/) | This is a simple Java example to demonstrate how to build native executables from a class file and a JAR file. All steps including creating a Java application are done from the command line. | Native Image | [Native Image Getting Started](graalvm.org/dev/reference-manual/native-image/#build-a-native-executable) |
| [Hello World](./fortune-demo/) | This is a "HelloWorld" Java application, built with Maven, to demonstrate how to generate a native executable using [Native Build Tools Maven plugin](https://graalvm.github.io/native-build-tools/latest/maven-plugin.html). It shows how you can get started quickly with GraalVM Enterprise in OCI Cloud Shell and OCI Code Editor. | Native Image, Native Build Tools, Maven | [GraalVM Enterprise in OCI Code Editor](https://docs.oracle.com/en/graalvm/enterprise/22/docs/getting-started/oci/code-editor/), [GraalVM Enterprise in OCI Cloud Shell](https://docs.oracle.com/en/graalvm/enterprise/22/docs/getting-started/oci/cloud-shell/) |
| [Simple Java Stream Benchmark](./java-simple-stream-benchmark/) | This application is a small benchmark of the Java Stream API. It demonstrates how the Graal compiler can achieve better performance for highly abstracted programs like those using Streams, Lambdas, or other Java features.| Graal compiler, C2 | [Simple Java Stream Benchmark](https://www.graalvm.org/dev/examples/java-simple-stream-benchmark/) |
| [Native Image Debugging](./javagdbnative/) | This demo is used to demonstrate how to debug a Java application, built into a native executable, using [GraalVM Tools for Java VS Code extension](https://marketplace.visualstudio.com/items?itemName=oracle-labs-graalvm.graalvm#xd_co_f=ZTA0Y2M0YjgtNGQ5Yi00NGVlLThmZjgtMWRiZDU5OGI4OWM2~). | Native Image, Maven, GraalVM Tools for Java | [Native Image Debugging in VS Code](https://medium.com/graalvm/native-image-debugging-in-vs-code-2d5dda1989c1) |
| [Java Multithreading Demo](./multithreading-demo/) | The application is a Java program which does synchronous and asynchronous threads execution. The demo is comprised of two sub-projects, each built with Maven: Multithreading Demo Oversized and Multithreading Demo Improved. | Native Image, Native Image Maven Plugin, GraalVM Dashboard | [Making sense of Native Image contents](https://medium.com/graalvm/making-sense-of-native-image-contents-741a688dab4d) |
| [Building a Java Module into a Native Executable](./native-hello-module/) | This is a simple HelloWorld Java module gathered with Maven, to show how to build a modular Java application into a native executable. | Native Image, Maven | [Build Java Modules into a Native Executable](https://www.graalvm.org/dev/reference-manual/native-image/guides/build-java-modules-into-native-executable/) |
| [Application Initialization at Build Time](./native-image-configure-examples/) | This example demonstrates the ability of Native Image to run parts of your application at the image build time. In both demo's part the Jackson framework is used to parse a JSON file at runtime. | Native Image, Maven | [Understanding Class Initialization in GraalVM Native Image Generation](https://medium.com/graalvm/understanding-class-initialization-in-graalvm-native-image-generation-d765b7e4d6ed) |
| [Java Streams API Demo](./java-simple-stream-benchmark/) | This demo shows how GraalVM efficiently removes abstractions from high-level programs. The Streams.java file contains a simple query implemented with the Java Streams API. | Native Image, Native Build Tools, Maven | [Optimize a Native Executable with Profile-Guided Optimizations](https://www.graalvm.org/dev/reference-manual/native-image/guides/optimize-native-executable-with-pgo/), [Abstraction Without Regret When Running on GraalVM](#) |

### Micronaut

| Name                      | Description                                          | Technologies                      | Reference | 
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [Micronaut Hello World REST](./micronaut-hello-rest-maven/) | This example uses a simple hello world REST application built with the Micronaut framework and GraalVM Enterprise JDK and Native Image. | Native Image, Micronaut, Native Build Tools, Maven | [Try in OCI Code Editor](https://github.com/oracle-devrel/oci-code-editor-samples/tree/main/java-samples/graalvmee-java-micronaut-hello-rest) |
| [Micronaut with GraalVM Native Image and Docker](./micronaut-nativeimage/) | This example shows how to create a simple Micronaut REST application, compile it with Native Image, and package it in a Docker container image. | Native Image, Micronaut, Native Build Tools, Gradle, Docker | |

### Spring Boot

| Name                      | Description                                          | Technologies                      | Reference |
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [Spring Boot Native Image Microservice](./spring-native-image/) | This example uses a simple Spring Boot microservice built with the Spring Boot framework and GraalVM Enterprise JDK, and  Native Image. | Spring Boot, Spring Native, Native Image | - |
| [Spring Boot Using R Packages](./spring-r/) | This is a simple Java Spring application that uses GraalVM interoperability to load an R script, which uses a typical R package, `lattice`. | Spring, FastR | - |

### Scala

| Name                      | Description                                          | Technologies                      | Reference |
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [Native Image of the Scala Compiler](./scalac-native/) | This example demonstrates how to build a native executable of the Scala compiler. | Scala 2.12.x, Native Image, Scala | - |

### Kotlin

| Name                      | Description                                          | Technologies                      | Reference |
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [Java Kotlin Interoperability and AOT Compilation](./java-kotlin-aot/) | This is a simple Java/Kotlin application, where a Java method accesses a String from Kotlin and calls a Kotlin function, which later accesses a String from a Java class. This example demonstrates how to interoperate between Java and Kotlin and build a native executable. | Native Image, Kotlin, Maven | [Build a Native Image of a Java and Kotlin Application](https://www.graalvm.org/dev/examples/java-kotlin-aot/) |

### Python

| Name                      | Description                                          | Technologies                      | Reference |
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [Graalpy Notebook](./graalpy-notebook-example/) | This example demonstrates how to integrate Python on GraalVM with a Java application. | GraalPy | - |

### Polyglot

| Name                      | Description                                          | Technologies                      | Reference | 
|---------------------------|------------------------------------------------------|--------------------------------|-----------------|
| [polyglot-chat-app](./polyglot-chat-app/) | This example uses a simple Spring Boot microservice built with the Spring Boot framework and GraalVM Enterprise JDK and Native Image. | Java, Python, R, JDK, Native Image, Spring Boot, Maven | - TBD - |
| [polyglot-debug](./polyglot-debug/) | This example uses a simple Spring Boot microservice built with the Spring Boot framework and GraalVM Enterprise JDK and Native Image. | Java, JavaScript, JDK, Native Image, Spring Boot, Maven | - TBD - |
| [polyglot-javascript-java-r](./polyglot-javascript-java-r/) | This example uses a simple Spring Boot microservice built with the Spring Boot framework and GraalVM Enterprise JDK and Native Image. | Java, JavaScript, R, JDK, Native Image, Spring Boot, Maven | - TBD - |
| [js-java-async-helidon](./js-java-async-helidon/) | This example uses a simple Spring Boot microservice built with the Spring Boot framework and GraalVM Enterprise JDK and Native Image. | Java, JavaScript, Helidon, JDK, Native Image, Maven | - TBD - |


## Running in a Docker Container

Some of the demos (console-based, non-GUI) can be run inside the confinement of a Docker container.
After cloning the repository, but before running any of the demos, do the following:

1. Build the GraalVM demo Docker image of choice:
    ```
    cd docker-images
    ./buildDockerImage.sh "java11-21.2.0"
    ```

    Note: You can find valid tags to specify as parameters [here](https://github.com/graalvm/container/pkgs/container/graalvm-ce).

2. Return to the root directory of the project and run the GraalVM demo Docker container built above:
    ```
    ./runDockerImage.sh "java11-21.2.0"
    ```

Once the Docker container is running, go to the folder of the respective demo, and follow the instructions from its README.md.
Note that GraalVM runtime built with Docker will already contain additional GraalVM components such as Node.JS, Ruby, Python etc., required to run some of the demos.

Running GUI-based applications inside a Docker container requires some intermediate VNC Viewer to access the GUI interface.

1. Download and install any **VNC Viewer**. A number of free or commercial VNC Viewers can be found [here]((https://duckduckgo.com/?q=vnc+viewer+download&ia=web).
2. Wait for the container to be ready, then run VNC Viewer.
3. Log onto http://127.0.0.1:5900 (type it in, in case copy-paste does not work) via the VNC Viewer to access the GUI interface. You will get an `xterm` screen, where you can type in your commands just like the Docker console or any other CLI prompt.

Finally, from the root directory of this repository, run a Docker container with the GraalVM runtime in it:
  ```
  DEMO_TYPE="gui" ./runDockerImage.sh "java11-21.2.0"
  ```

## Further Information

* [GraalVM website](https://www.graalvm.org)
* [GraalVM on GitHub](https://github.com/oracle/graal/tree/master/compiler)
* [Scientific Publications](https://github.com/oracle/graal/blob/master/docs/Publications.md)

## License

Unless specified otherwise, all code in this repository is licensed under the [Universal Permissive License (UPL)](http://opensource.org/licenses/UPL).
Note that the submodule `fastR-examples` which is a reference to the [graalvm/examples](https://github.com/graalvm/examples) repository has a separate license.
